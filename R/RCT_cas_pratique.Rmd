---
title: "RCT_cas_pratique"
author: "stephaneesquerre"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(haven)
library(tidyverse)
library(dplyr)
library(here)
library(gtsummary)
```

```{r import}
hiv <- read_dta(paste0(here(),"/data/RCT.dta"))
```


## Contexte

- Les données utilisées proviennent de l’article de Rebecca Thornton “The Demand and Impact of Learning HIV Status” (American Economic Review, 2008)
- Objectif : baisse du coût résultat test HIV augmente nombre de tests avec 2 interventions : 1. paiement en cash ; 2. variation du montant

## Stats desc

```{r summary}
summary(hiv)
```
```{r compar}
tab_compar_rct <-
  hiv %>% 
  gtsummary::tbl_summary(
    include = c(age,male,educ2004,hadsex12,eversex,tb,land2004,hiv2004, got),
    by = any, # split table by group
    missing = "no" # don't list missing data separately
  ) %>%
  add_n() %>% 
  add_p( # perform t-test for all variables
    test = everything() ~ "t.test")

tab_compar_rct
```


## Including Plots

You can also embed plots, for example:

```{r pressure, echo=FALSE}
plot(pressure)
```

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
